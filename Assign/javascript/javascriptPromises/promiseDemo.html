<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //promises with Promise contructor
        let myPromise = new Promise((res,rej)=>{
            let success = false;
            if(success){
                res("Task is completed successfully");
            }else{
                rej("Task is terminated");
            }
        });

        myPromise
        .then(function(result){
            console.log("Success: ",result);
        })
        .catch(function(result){
            console.log("Error: ",result);
        })
        .finally(function(result){
            console.log("Execute:");
        })
    </script>
    <script>
        //promises without contructor
        function delay(ms){
            return new Promise((res)=>{
                setTimeout(() => {
                    res("Done after " + ms +"seconds");
                }, ms);
            });
        }
        delay(2000).then((res)=>{
            console.log(res);
        })
        .catch((err)=>{
            console.error(err);
        })
        .finally(()=>{
            console.log("Execute at any cost:");
        })
    </script>
    <script>
        //This function is for multiple then function (chaining promise)
        function multiplyBy(value){
            return new Promise((res,rej)=>{
                setTimeout(() => {
                    res(value*2);
                }, 2000);
            });
        }

        multiplyBy(10)
        .then((result1) => {
            console.log("Step 1  result:", result1);
            return multiplyBy(result1);
        })
        .then((result2)=>{
            console.log("Step 2 Result:", result2);
            return multiplyBy(result2);
        })
        .then((result3)=>{
            console.log("Step 3 Result:", result3);
        })
        .catch((err) =>{
            console.error(err);
        })
    </script>
</body>
</html>